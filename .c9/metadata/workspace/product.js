{"filter":false,"title":"product.js","tooltip":"/product.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":90,"column":31},"end":{"row":90,"column":32},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":32},"end":{"row":90,"column":33},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":33},"end":{"row":90,"column":34},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"remove","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":35},"end":{"row":90,"column":36},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":16},"end":{"row":91,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":0},"end":{"row":92,"column":20},"action":"remove","lines":["                  },"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":17},"end":{"row":92,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":0},"end":{"row":81,"column":79},"action":"remove","lines":["        //var minDate = moment(_.min(data, 'key').key).subtract(7, 'days').toDate();","        //var maxDate = moment(_.max(data, 'key').key).add(7, 'days').toDate();"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":0},"end":{"row":81,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":0},"end":{"row":81,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":0},"end":{"row":81,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":0},"end":{"row":81,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":0},"end":{"row":81,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":97,"column":0},"end":{"row":120,"column":9},"action":"remove","lines":["        var chart = d4.charts.column()","            .outerHeight($j('#chart-weekly').height())","            .outerWidth($j('#chart-weekly').width())","            .margin({ top: 10, right: 10, bottom: 20, left: 20 })","            .x(function(x){","                //x.scale('time');","                //x.min(minDate);","                //x.max(maxDate)","                x.key('key');","            })","            .y(function(y){","                y.key('value');","            })","            .valueKey('value')","            //.using('yAxis', function(axis) {","            //    axis.ticks(d3.time.weeks, 1); ","            //})","            .mixout('yAxis')","            .using('barLabels', function(labels) {","                labels.text(function(d) {","                    return accounting.formatMoney(d.value, \"£\", 0, \",\", \".\")","                })","            })","        ;"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":8},"end":{"row":97,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":8},"end":{"row":97,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":19},"end":{"row":82,"column":0},"action":"insert","lines":["",""]},{"start":{"row":82,"column":0},"end":{"row":82,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":82,"column":16},"end":{"row":83,"column":77},"action":"insert","lines":["x: 'x',","//        xFormat: '%Y%m%d', // 'xFormat' can be used as custom format of 'x'"]}]}],[{"group":"doc","deltas":[{"start":{"row":82,"column":20},"end":{"row":82,"column":21},"action":"remove","lines":["x"]},{"start":{"row":82,"column":20},"end":{"row":82,"column":21},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":82,"column":21},"end":{"row":82,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":82,"column":22},"end":{"row":82,"column":23},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":0},"end":{"row":83,"column":10},"action":"remove","lines":["//        "]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":0},"end":{"row":83,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":4},"end":{"row":83,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":8},"end":{"row":83,"column":12},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":12},"end":{"row":83,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":36},"end":{"row":83,"column":83},"action":"remove","lines":["/ 'xFormat' can be used as custom format of 'x'"]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":35},"end":{"row":83,"column":36},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":34},"end":{"row":83,"column":35},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":35},"end":{"row":93,"column":41},"action":"remove","lines":["-%m-%d"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":35},"end":{"row":93,"column":36},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":36},"end":{"row":93,"column":37},"action":"insert","lines":["%"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":37},"end":{"row":93,"column":38},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":37},"end":{"row":93,"column":38},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":37},"end":{"row":93,"column":38},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":28},"end":{"row":83,"column":32},"action":"remove","lines":["%m%d"]},{"start":{"row":83,"column":28},"end":{"row":83,"column":29},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":29},"end":{"row":83,"column":30},"action":"insert","lines":["%"]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":30},"end":{"row":83,"column":31},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":0},"end":{"row":104,"column":9},"action":"remove","lines":["        var datum = [{ key: 'sales', values: data }]","        ","        d3.select('#chart-weekly')","            .datum(data)","            .call(chart)","        ;"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":33},"end":{"row":81,"column":0},"action":"insert","lines":["",""]},{"start":{"row":81,"column":0},"end":{"row":81,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":12},"end":{"row":81,"column":34},"action":"insert","lines":["bindto: '#myContainer'"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":34},"end":{"row":81,"column":35},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":21},"end":{"row":81,"column":33},"action":"remove","lines":["#myContainer"]},{"start":{"row":81,"column":21},"end":{"row":81,"column":34},"action":"insert","lines":["#chart-weekly"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":13},"end":{"row":34,"column":14},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":12},"end":{"row":34,"column":13},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":19},"end":{"row":34,"column":25},"action":"remove","lines":["weekly"]},{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":20},"end":{"row":34,"column":21},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":21},"end":{"row":34,"column":22},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":22},"end":{"row":34,"column":23},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":23},"end":{"row":34,"column":24},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":24},"end":{"row":34,"column":25},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":25},"end":{"row":34,"column":26},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":26},"end":{"row":34,"column":27},"action":"insert","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":29},"end":{"row":21,"column":30},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":29},"end":{"row":21,"column":30},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":0},"end":{"row":70,"column":6},"action":"remove","lines":["    charts.salesperson = function() {","        ","        var data = _.sortBy(groups.salespersonValue.top(Infinity), function(d) { return d.value; });","        console.log(data);","","        var chart = d4.charts.row()","            .outerHeight($j('#chart-salesperson').height())","            .outerWidth($j('#chart-salesperson').width())","            .margin({ top: 10, right: 50, bottom: 20, left: 140 })","            .x(function(x){","                x.key('value');","            })","            .y(function(y){","                y.key('key');","            })","            .valueKey('value')","            .mixout(['xAxis'])","            .using('barLabels', function(labels) {","                labels.text(function(d) {","                    return accounting.formatMoney(d.value, \"£\", 0, \",\", \".\")","                })","            })","        ;","","        d3.select('#chart-salesperson')","            .datum(data)","            .call(chart)","        ;","","    };"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":0},"end":{"row":41,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":0},"end":{"row":41,"column":4},"action":"remove","lines":["","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":22},"end":{"row":54,"column":33},"action":"insert","lines":["_.dropRight"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":33},"end":{"row":54,"column":34},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":38},"end":{"row":54,"column":39},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":11},"end":{"row":68,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":11},"end":{"row":68,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":11},"end":{"row":68,"column":0},"action":"insert","lines":["",""]},{"start":{"row":68,"column":0},"end":{"row":68,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":8},"end":{"row":69,"column":11},"action":"remove","lines":["","           "]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":13},"end":{"row":67,"column":0},"action":"insert","lines":["",""]},{"start":{"row":67,"column":0},"end":{"row":67,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":72,"column":1},"end":{"row":116,"column":6},"action":"remove","lines":["   charts.weekly = function() {","        ","        var data = _.sortBy(groups.weeklyValue.orderNatural().top(Infinity), function(d) { return d.key.toDate(); });","        ","        ","        _.each(data, function(d) { d.key = d.key.format('MMM DD'); });","        ","        console.log(data);","","        //var minDate = moment(_.min(data, 'key').key).subtract(7, 'days').toDate();","        //var maxDate = moment(_.max(data, 'key').key).add(7, 'days').toDate();","        ","        var chart = d4.charts.column()","            .outerHeight($j('#chart-weekly').height())","            .outerWidth($j('#chart-weekly').width())","            .margin({ top: 10, right: 10, bottom: 20, left: 20 })","            .x(function(x){","                //x.scale('time');","                //x.min(minDate);","                //x.max(maxDate)","                x.key('key');","            })","            .y(function(y){","                y.key('value');","            })","            .valueKey('value')","            //.using('yAxis', function(axis) {","            //    axis.ticks(d3.time.weeks, 1); ","            //})","            .mixout('yAxis')","            .using('barLabels', function(labels) {","                labels.text(function(d) {","                    return accounting.formatMoney(d.value, \"£\", 0, \",\", \".\")","                })","            })","        ;","        ","        var datum = [{ key: 'sales', values: data }]","        ","        d3.select('#chart-weekly')","            .datum(data)","            .call(chart)","        ;","           ","    };"]}]}],[{"group":"doc","deltas":[{"start":{"row":72,"column":0},"end":{"row":72,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":71,"column":4},"end":{"row":72,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":22},"end":{"row":54,"column":39},"action":"remove","lines":["_.dropRight(data)"]}]}],[{"group":"doc","deltas":[{"start":{"row":45,"column":72},"end":{"row":46,"column":0},"action":"insert","lines":["",""]},{"start":{"row":46,"column":0},"end":{"row":46,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":46,"column":8},"end":{"row":46,"column":25},"action":"insert","lines":["_.dropRight(data)"]}]}],[{"group":"doc","deltas":[{"start":{"row":46,"column":25},"end":{"row":46,"column":26},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":22},"end":{"row":55,"column":23},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":23},"end":{"row":55,"column":24},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":24},"end":{"row":55,"column":25},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":25},"end":{"row":55,"column":26},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":46,"column":0},"end":{"row":46,"column":26},"action":"remove","lines":["        _.dropRight(data);"]}]}],[{"group":"doc","deltas":[{"start":{"row":45,"column":72},"end":{"row":46,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":26},"end":{"row":54,"column":27},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":27},"end":{"row":54,"column":28},"action":"insert","lines":["P"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":28},"end":{"row":54,"column":29},"action":"insert","lines":["O"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":29},"end":{"row":54,"column":30},"action":"insert","lines":["P"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":29},"end":{"row":54,"column":30},"action":"remove","lines":["P"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":28},"end":{"row":54,"column":29},"action":"remove","lines":["O"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":27},"end":{"row":54,"column":28},"action":"remove","lines":["P"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":27},"end":{"row":54,"column":28},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":28},"end":{"row":54,"column":29},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":29},"end":{"row":54,"column":30},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":30},"end":{"row":54,"column":32},"action":"insert","lines":["()"]}]}]]},"ace":{"folds":[],"scrolltop":360,"scrollleft":0,"selection":{"start":{"row":45,"column":42},"end":{"row":45,"column":42},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":24,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1422309580143,"hash":"80b3dbcc93b3c2497fe58cfc09aaf0f50c38051e"}